<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<script src="http://colorbrewer2.org/export/colorbrewer.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>

  <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>

  <style>


  .canton-boundary {
    fill: none;
    stroke: #fff;
    stroke-linejoin:round;
  }

  text {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 10px;
    text-anchor: middle;
  }


  .d3-tip {
  			  line-height: 2;
  			  font-weight: bold;
  			  padding: 12px;
  			  color: #ggf;
  			  border-radius: 2px;
  			  opacity: 20%;
  			}
  			/*.d3-tip:after {
  			  box-sizing: border-box;
  			  display: inline;
  			  font-size: 10px;
  			  width: 100%;
  			  line-height: 1;
  			  color: black;
  			  content: "\25BC";
  			  position: absolute;
  			  text-align: center;
  			  opacity: 0.001%;
  			}

  			.d3-tip.n:after {
  			  margin: -1px 0 0 0;
  			  top: 100%;
  			  left: 0;
  			  opacity: 0.001%;
  			}
  			.area:hover {
  				fill: brown;
  			}*/
        #map1{
          font-weight: bold;
          color:#660000;
          display: inline-block;
          float:left;
          width:400px;
          height:430px;
          margin-top:10px;
        }
        #plots{
          position:absolute;
          margin-left: 150px;
          margin-top: 50px;
          text-align:right;
          display: inline-block;
        }
  			
  </style>
</head>
<body>
	


	


					<div id = "map1"> 
						<div id="subtitle">Glimpse of Weather Conditions in the prominent states of India</div>
					</div>
					<div id="plots"><iframe src="" name="iframe_a" width="900px" height="550px" ></iframe></div>
				     		   
	  

<script>
var places = [
              {
                name: "Delhi",
        nam: "calendarViewForecast.html",
        latlon: "28.0N,75.0E",
                location: {
                  latitude: 28.28,
                  longitude: 77.52
                }
              },
              {
                name: "Lucknow",
        nam: "calenderView2.html",
                location: {
                  latitude:26.8467,
                  longitude: 80.9462
                }
              },
              {
                name: "Jaipur",
        nam: "calenderView2.html",
                location: {
                  latitude:26.9124,
                  longitude: 75.7873
                }
              },
              {
                name: "Gandhinagar",
        nam: "calenderView2.html",
                location: {
                  latitude:23.2156,
                  longitude:  72.6369
                }
              },
              {
                name: "Bhopal",
				nam: "calenderView2.html",
                location: {
                  latitude: 23.2599,
                  longitude:77.4126
                }
              }
			  ,
              {
                name: "Bhubneswar",
                nam: "calenderView2.html",
				location: {
                  latitude: 20.2961,
                  longitude:85.8245
                }
              }
			  ,
              {
                name: "Srinagar",
                nam: "calenderView2.html",
				location: {
                  latitude: 34.0837,
                  longitude: 74.7973
                }
              }
			  ,
              {
                name: "Dehradun",
                nam: "calenderView2.html",
				location: {
                  latitude: 30.3165, 
                  longitude: 78.0322
                }
              }
			  ,
              {
                name: "Patna",
				nam: "calenderView2.html",
                location: {
                  latitude: 25.5941,
                  longitude: 85.1376
                }
              }
			  ,
              {
                name: "Shimla",
                nam: "calenderView2.html",
				location: {
                  latitude: 31.1048, 
                  longitude: 77.1734
                }
              }
			  ,
              {
                name: "Chandigarh",
                nam: "calenderView2.html",
				location: {
                  latitude:30.7333, 
                  longitude: 76.7794
                }
              }
			  ,
              {
                name: "Chennai",
                nam: "calenderView2.html",
				location: {
                  latitude: 13.0827, 
                  longitude: 80.2707
                }
              }
			  ,
              {
                name: "Mumbai",
                nam:"calenderView2.html",
				location: {
                  latitude: 19.0760, 
                  longitude: 72.8777
                }
              }
			  ,
              {
                name: "Thiruvananthapuram",
                nam: "calenderView2.html",
				location: {
                  latitude: 8.5241,
                  longitude:  76.9366
                }
              },
              {
                name: "Hyderabad",
                nam: "calenderView2.html",
				location: {
                  latitude: 17.3850,
                  longitude:  78.4867
                }
              }
			  ,
              {
                name: "Bengaluru",
                nam: "calenderView2.html",
				location: {
                  latitude: 12.9716,
                  longitude: 77.5946
                }
              }
        ,
              {
                name: "Gangtok",
                nam: "calenderView2.html",
        location: {
                  latitude: 27.3389, 
                  longitude: 88.6065
                }
              }
        ,
              {
                name: "Dispur",
                nam: "calenderView2.html",
        location: {
                  latitude: 26.1433, 
                  longitude: 91.7898
                }
              }
        ,
              {
                name: "Imphal",
                nam: "calenderView2.html",
        location: {
                  latitude: 24.8170, 
                  longitude: 93.9368
                }
              }
        ,
              {
                name: "Aizawl",
                nam:"calenderView2.html",
        location: {
                  latitude: 23.7271,
                  longitude:  92.7176
                }
              }
        ,
              {
                name: "Kohima",
                nam: "calenderView2.html",
        location: {
                  latitude: 25.6586, 
                  longitude: 94.1053
                }
              }
        ,
              {
                name: "Itanagar",
                nam: "calenderView2.html",
        location: {
                  latitude: 27.0844, 
                  longitude: 93.6053
                }
              }
        ,
              {
                name: "Shillong",
                nam: "calenderView2.html",
        location: {
                  latitude: 25.5788, 
                  longitude: 91.8933
                }
              }
         ,
              {
                name: "Agartala",
                nam: "calenderView2.html",
        location: {
                  latitude: 23.8315, 
                  longitude: 91.2868
                }
              }
         ,
              {
                name: "Raipur",
                nam: "calenderView2.html",
        location: {
                  latitude: 21.1797, 
                  longitude: 81.7787
                }
              }
         ,
              {
                name: "Ranchi",
                nam: "calenderView2.html",
        location: {
                  latitude: 23.3441, 
                  longitude: 85.3096
                }
              }
            ]
var width = 960,
    height = 600;
var color= d3.scale.ordinal()
			.domain([1,2,3,4,5,6,7,8,9])
			.range(colorbrewer.Oranges[9]);

/*var projection = d3.geo.mercator()
    .scale(800)
    .translate([-500,600]);*/

<!--  -->

var projection = d3.geo.mercator().scale(1100).translate([-1000,800]);
//var projection = d3.geo.mercator().scale(1000).translate([-800,800]);
var path = d3.geo.path()
    .projection(projection);

var svg = d3.select("#map1").append("svg")
    .attr("viewBox", "0 0 1000 800")
	 .attr("preserveAspectRatio", "xMidYMid meet");
var data;
d3.json("test.json", function(error, swiss) {
  if (error) throw error;

  var cantons = topojson.feature(swiss, swiss.objects.india);
  
  			//svg.call(tip);
			var group=svg.selectAll("g")
				.data(cantons.features)
				.enter()
				.append("g");
				//.on('mouseover', tip.show)
      			//.on('mouseout', tip.hide)
					
					
					var tip = d3.tip()
							.attr('class', 'd3-tip')
							.offset([-5, 0])
							.style("left", "300px")
							.style("top", "400px")
							.html(function(d) {
                //alert("tip !");
								return ("<a href="+d.nam+"?latlon="+d.location.latitude+d.location.longitude+" target='iframe_a'>"+d.name +"</a>");
                
							})
							
						svg.call(tip);


svg.selectAll(".pin")
						  .data(places)
						  .enter().append("circle", ".pin")
						  .attr("r", 3)
						  .attr("transform", function(d) {
							return "translate(" + projection([
							  d.location.longitude,
							  d.location.latitude
							]) + ")";
						  })
						  .on('mouseover', tip.show)
							.on('click', tip.hide);		
					
				//var projection = d3.geo.mercator().scale(900).translate([-600,700]);
				var path= d3.geo.path().projection(projection);

				var areas= group.append("path")
					.attr("d", path)
					.attr("class", "area")
				 .attr("fill","#98EDF1");
						
});
</script>

